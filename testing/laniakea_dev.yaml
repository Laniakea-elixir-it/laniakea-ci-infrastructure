---
# Laniakea develplment branch Orchestrator URL
#orchestrator_url: 'https://cloud-90-147-75-119.cloud.ba.infn.it/orchestrator'
orchestrator_url: 'https://cloud-90-147-102-77.cloud.ba.infn.it'

# Add user to access the deployment if needed. # Do not change, this should match the tosca template.
test_user:
  os_user_name": "testuser"
  os_user_guid": "8001"
  os_user_add_to_sudoers: true
  os_user_ssh_public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDH1TyGvTGFzEBK2lSrcCvKVTQiA7jLQJYIPlsWZcyQzfgDhcJEBt93wJpj9cn8rnJHFFwnoRWfMSZqUn0VD+tByIWdi32fgjD/+6zUbyZojFAiiIQN80/8toktw7duynpDJPNgRt6a7PnsFX24s1jhkN8WZShRf6SpubRAUyxgj6Zuz7KQtieY2x2YRdAAXsKpnOGbMi2mE5G+PLVx/t3FzcHheDqNPz6R5j0Ikq/uiobd+E1hwCCW+P8+qa+OPnrhvuNf24mOApwGvEkKDELHJotTLAdCmfbhpuBqTx3BICPikdzOwpJ4tCierU+SxD1wy7ffCEonrEwNN7gBiT9d"

## All fields are mandatory.
test:
    simple_node:
        name: "simple-node"
        enabled: no
        run_more: no # this tosca template doesn't produce a valid endpoint to check with requests.
        tosca_template: "https://raw.githubusercontent.com/Laniakea-elixir-it/laniakea-dashboard-config/laniakea-v3.0.0/tosca-templates/simple-node.yml"
        tosca_template_path: "/tmp/laniakea_dev/simple-node.yml"
        inputs:

    galaxy:
        name: "galaxy-minimal"
        enabled: yes
        run_more: ['endpoint', 'galaxy_tools']
        delete: always # always, no, on_success, on_error # TODO add the possibility to not delete the deployment.
        tosca_template: "https://raw.githubusercontent.com/Laniakea-elixir-it/laniakea-dashboard-config/laniakea-v3.0.0/tosca-templates/galaxy.yaml"
        tosca_template_path: "/tmp/laniakea_dev/galaxy.yml"
        inputs:
            instance_flavor: "large"
            storage_size: "50 GB"
            os_distribution: "centos"
            os_version: "7"
            version: "release_21.09"
            admin_api_key: not_very_secret_api_key
            users: []

    galaxy_express:
        name: "galaxy-express"
        enabled: no
        run_more: ['endpoint', 'galaxy_tools']
        tosca_template: "https://raw.githubusercontent.com/Laniakea-elixir-it/laniakea-dashboard-config/laniakea-v3.0.0/tosca-templates/galaxy-express.yaml"
        tosca_template_path: "/tmp/laniakea_dev/galaxy.yml"
        inputs:
            instance_flavor: "large"
            storage_size: "50 GB"
            os_distribution: "centos"
            os_version: "7"
            version: "release_20.05"
            users: [ {"os_user_name": "testuser", "os_user_guid": "8001", "os_user_add_to_sudoers": true, "os_user_ssh_public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDH1TyGvTGFzEBK2lSrcCvKVTQiA7jLQJYIPlsWZcyQzfgDhcJEBt93wJpj9cn8rnJHFFwnoRWfMSZqUn0VD+tByIWdi32fgjD/+6zUbyZojFAiiIQN80/8toktw7duynpDJPNgRt6a7PnsFX24s1jhkN8WZShRf6SpubRAUyxgj6Zuz7KQtieY2x2YRdAAXsKpnOGbMi2mE5G+PLVx/t3FzcHheDqNPz6R5j0Ikq/uiobd+E1hwCCW+P8+qa+OPnrhvuNf24mOApwGvEkKDELHJotTLAdCmfbhpuBqTx3BICPikdzOwpJ4tCierU+SxD1wy7ffCEonrEwNN7gBiT9d"} ]
            vault_encryption_token: { "endpoint": "example.com", "mountpoint": "secrets", "policy": "write", "wrapping_token": "not_a_wrapping_token" }
            vault_token: { "endpoint": "example.com", "mountpoint": "secrets", "policy": "read", "wrapping_token": "not_a_wrapping_token" }

    irida:
        name: "irida"
        enabled: no
        run_more: ['endpoint']
        tosca_template: "https://raw.githubusercontent.com/Laniakea-elixir-it/laniakea-dashboard-config/laniakea-v3.0.0/tosca-templates/irida.yml"
        tosca_template_path: "/tmp/laniakea_dev/irida.yml"
        inputs:
            storage_size: 50 GB
            galaxy_cpus: 4
            galaxy_mem: 8 GB
